<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gowtham — Portfolio</title>
  <meta name="description" content="Gowtham - Computer Science Student | Portfolio" />
  <style>
    /* Minimal styling (kept similar to your previous style) */
    :root { --accent:#3498db; --muted:#6b7280; --bg:#f9f9f9; --card:#fff; --shadow:0 6px 20px rgba(2,6,23,0.06); }
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Arial;margin:0;background:var(--bg);color:#111}
    .container{max-width:1000px;margin:0 auto;padding:18px}
    header{background:var(--card);box-shadow:var(--shadow);position:sticky;top:0;z-index:20}
    .nav{display:flex;justify-content:space-between;align-items:center;padding:14px 18px}
    .logo{font-weight:700;color:var(--accent);text-decoration:none}
    .hero{background:linear-gradient(135deg,var(--accent),#2c3e50);color:#fff;padding:60px;border-radius:8px;margin-top:18px;text-align:center}
    .btn{display:inline-block;background:var(--accent);color:#fff;padding:10px 14px;border-radius:8px;text-decoration:none;border:none;cursor:pointer}
    main{padding:18px}
    .card{background:var(--card);padding:18px;border-radius:10px;box-shadow:var(--shadow);margin-bottom:18px}
    .skills-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    .skill-card,.project-card{padding:12px;border-radius:8px;background:#fff;box-shadow:0 4px 16px rgba(0,0,0,0.03)}
    .contact-grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
    @media (max-width:880px){.contact-grid{grid-template-columns:1fr}}
    .muted{color:var(--muted);font-size:14px}
    .form-group{margin-bottom:12px}
    input,textarea{width:100%;padding:10px;border-radius:6px;border:1px solid #ddd;font-size:14px}
    .msg{padding:10px;border-radius:6px;font-size:14px}
    .msg.success{background:#e6ffef;color:#084c26;border:1px solid #b7f3c9}
    .msg.error{background:#ffecec;color:#7a1212;border:1px solid #f2b8b8}
  </style>
</head>
<body>
<header>
  <div class="container nav">
    <a class="logo" href="#">Gowtham</a>
    <div>
      <a href="#projects" style="margin-right:12px;color:#333;text-decoration:none">Projects</a>
      <a href="#contact" class="btn" style="background:#2c3e50">Contact</a>
    </div>
  </div>
</header>

<main class="container">
  <section class="hero">
    <h1 style="margin:0 0 8px">Hi, I'm Gowtham</h1>
    <p class="muted" style="max-width:760px;margin:0 auto 12px">Computer Science Engineering student — Malnad College of Engineering. I build web projects and prepare for technical roles.</p>
    <a href="#projects" class="btn">View My Work</a>
    <a href="resume.pdf" class="btn" download style="margin-left:12px">Download Resume</a>
  </section>

  <section id="about" class="card" style="margin-top:18px">
    <h2>About Me</h2>
    <div style="display:flex;gap:18px;align-items:center;flex-wrap:wrap">
      <div style="flex:1;min-width:240px">
        <p>Hello! I'm <strong>Gowtham</strong>, a Computer Science Engineering student at Malnad College of Engineering. I enjoy web development, problem solving and building projects that demonstrate my skills.</p>
        <p class="muted">Skills: HTML, CSS, JavaScript, PHP, MySQL, Python, C++</p>
      </div>
      <div style="width:300px;height:300px;border-radius:10px;overflow:hidden;background:#2c3e50;display:flex;align-items:center;justify-content:center;color:#fff">
        <img src="myphoto.jpg" alt="Gowtham" style="width:100%;height:100%;object-fit:cover;display:block">
      </div>
    </div>
  </section>

  <section id="skills" class="card">
    <h2>Skills</h2>
    <div class="skills-grid">
      <div class="skill-card"><strong>HTML/CSS</strong><div class="muted">Responsive design, semantic HTML</div></div>
      <div class="skill-card"><strong>JavaScript</strong><div class="muted">DOM, ES6, AJAX</div></div>
      <div class="skill-card"><strong>PHP & MySQL</strong><div class="muted">Server-side scripting & DB basics</div></div>
      <div class="skill-card"><strong>Python & C++</strong><div class="muted">Algorithms and problem solving</div></div>
    </div>
  </section>

  <section id="projects" class="card">
    <h2>Projects</h2>
    <div style="display:grid;gap:12px">
      <div class="project-card">
        <h3>Portfolio Website</h3>
        <p class="muted">Built with HTML/CSS/JS and PHP backend for contact form. Hosted locally on XAMPP; can be hosted on static GitHub Pages (contact requires backend).</p>
      </div>
      <div class="project-card">
        <h3>Graph Visualizer</h3>
        <p class="muted">A visualization of BFS/DFS for educational use.</p>
      </div>
      <div class="project-card">
        <h3>Chat UI Demo</h3>
        <p class="muted">Front-end chat interface demo focusing on UI interactions.</p>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="card">
    <h2>Get In Touch</h2>
    <div class="contact-grid">
      <!-- left: form -->
      <div>
        <div id="formMsg" aria-live="polite"></div>
        <form id="contactForm" novalidate>
          <div class="form-group">
            <label for="name">Name</label>
            <input id="name" name="name" type="text" required>
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" required value="gowthamveeraiah76@gmail.com">
          </div>
          <div class="form-group">
            <label for="subject">Subject</label>
            <input id="subject" name="subject" type="text" required>
          </div>
          <div class="form-group">
            <label for="message">Message</label>
            <textarea id="message" name="message" rows="6" required></textarea>
          </div>

          <div style="display:flex;gap:10px;align-items:center">
            <button type="submit" class="btn">Send Message</button>
            <div id="spinner" style="display:none">Sending…</div>
            <button type="button" id="viewMsgs" style="background:#fff;border:1px solid #ddd;padding:8px;border-radius:6px;cursor:pointer">View Stored Messages</button>
          </div>
        </form>

        <div id="storedMessages" style="margin-top:14px"></div>
      </div>

      <!-- right: contact info -->
      <div>
        <div class="card">
          <h3>Contact Info</h3>
          <p><strong>Location</strong><br>Hassan, Karnataka</p>
          <p><strong>Email</strong><br>gowthamveeraiah76@gmail.com</p>
          <p><strong>Phone</strong><br>+91 7676076516</p>
          <p><strong>Resume</strong><br><a href="resume.pdf" download>Download Resume (PDF)</a></p>
        </div>
      </div>
    </div>
  </section>
</main>

<footer style="padding:18px;text-align:center;background:#222;color:#fff">
  © 2025 Gowtham — Malnad College of Engineering
</footer>

<script>
/*
  AJAX contact form posting to contact.php (expects JSON response).
  Place contact.php in the same folder. Works on XAMPP: http://localhost/portfolio/index.html
*/

(function(){
  const form = document.getElementById('contactForm');
  const formMsg = document.getElementById('formMsg');
  const spinner = document.getElementById('spinner');
  const storedMessages = document.getElementById('storedMessages');
  const viewMsgsBtn = document.getElementById('viewMsgs');

  function showMessage(type, text){
    formMsg.innerHTML = '<div class="msg ' + (type==='success' ? 'success':'error') + '">' + text + '</div>';
  }

  function clearMessage(){ formMsg.innerHTML = ''; }

  function validateEmail(e){ return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e); }

  form.addEventListener('submit', async function(e){
    e.preventDefault();
    clearMessage();

    const name = form.name.value.trim();
    const email = form.email.value.trim();
    const subject = form.subject.value.trim();
    const message = form.message.value.trim();

    if(!name || !email || !subject || !message){
      showMessage('error','Please fill in all fields.');
      return;
    }
    if(!validateEmail(email)){
      showMessage('error','Please enter a valid email.');
      return;
    }

    spinner.style.display = 'inline-block';

    try {
      const fd = new FormData();
      fd.append('name', name);
      fd.append('email', email);
      fd.append('subject', subject);
      fd.append('message', message);

      const res = await fetch('contact.php', { method:'POST', body: fd });
      const data = await res.json();

      if(data.status === 'success'){
        showMessage('success', data.message || 'Message sent successfully.');
        form.reset();
        loadStoredMessages(); // refresh local display (if using file/db)
      } else {
        // server validation errors
        if(Array.isArray(data.errors)) {
          showMessage('error', data.errors.join('<br>'));
        } else {
          showMessage('error', data.message || 'Server error. Try again.');
        }
      }
    } catch(err){
      showMessage('error','Network or server error. Make sure Apache is running.');
      console.error(err);
    } finally {
      spinner.style.display = 'none';
    }
  });

  // View stored messages: uses messages.txt (server-side). We'll request messages.txt if exists.
  viewMsgsBtn.addEventListener('click', loadStoredMessages);

  async function loadStoredMessages(){
    storedMessages.innerHTML = '<div class="muted">Loading...</div>';
    try {
      // Try fetching messages.txt (plain text) placed by contact.php
      const r = await fetch('messages.txt?' + Date.now());
      if(!r.ok){ storedMessages.innerHTML = '<div class="muted">No stored messages or messages.txt not found.</div>'; return; }
      const txt = await r.text();
      if(!txt.trim()){ storedMessages.innerHTML = '<div class="muted">No messages saved yet.</div>'; return; }
      const rows = txt.trim().split('---').filter(Boolean).map(s => s.trim());
      let html = '';
      for(const row of rows){
        // each block has lines like "Name: ..\nEmail: ..\nMessage: .."
        html += '<div class="card" style="margin-bottom:8px"><pre style="white-space:pre-wrap;margin:0">' + escapeHtml(row) + '</pre></div>';
      }
      storedMessages.innerHTML = html;
    } catch(e){
      storedMessages.innerHTML = '<div class="muted">Could not load messages (check server permissions).</div>';
    }
  }

  function escapeHtml(s){ return String(s).replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; }); }

  // load on page load (optional)
  // loadStoredMessages();

})();
</script>
</body>
</html>
